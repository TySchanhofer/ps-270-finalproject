---
title: "Gov 50 Final Project"
author: "Ty Schanhofer"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---



## Project thoughts

I am interested in exploring data related to voting in this year's Wisconsin Senate election. I want to look at it this year especially because of the concurrent Presidential election. I wonder if there are some interesting effects of the bigger, national election happening at the same time.
## Proposal Paragraph
https://www.kaggle.com/datasets/thedevastator/u-s-public-school-system-finances-esec14
https://www.kaggle.com/datasets/davidbroberts/us-gdp-by-state-19972020
  (I am moving away from my thoughts above) 
  
  Does funding for an American state's elementary, middle, and high schools have correlation/a causal relationship with a state's GDP per capita? I hypothesize that the greater amount of funding per student that is put towards education, the greater a state's GDP per capita. I expect states that put more money towards educating its youth will then produce a workforce that is made up of more high earners. Additionally, I believe these states will also attract high earners from elsewhere, which would also raise the GDP per capita. My explanatory value is the amount of money each state spends per student. My outcome value is the GDP per capita for each state. If I find that greater funding for schools per student is accompanied by greater GDP per capita for a state, then my hypothesis will be proven. If I find that there is little or reverse correlation between a state's funding for schools, then my hypothesis will be disproven. When I run a regression of a state's GDP with school funding as the indicator, a positive, significant coefficient would indicate support for my hypothesis.
  

```{r}
library(tidyverse)
library(ggplot2)
```

  
## Data Upload
```{r}
rawgdp <- read_csv("data/bea-gdp-by-state.csv")
rawschools <- read_csv("data/ELSI_csv_export_finance2.csv")
```

## Data Cleaning

```{r}
gdp <- rawgdp |>
  select(Fips, Area, "2017")

gdp
```
```{r}
schools <- rawschools |>
  select("Area", "Total Revenues (TR) per Pupil (MEMBR) [State Finance] 2016-17")

schools
```


## Initial Graph

```{r}
ggplot(data = gdp,
       mapping = aes(x = `2017`)) +
geom_histogram() +
  labs(title = "GDP per Capita Across the US")
```




## Combining the Datasets
```{r}
gdp_schools <- left_join(gdp, schools, by = "Area")

gdp_schools
```

## Analysis Graph

```{r}
graph_1 <- ggplot(data = gdp_schools,
       aes(x = `2017`,
           y = `Total Revenues (TR) per Pupil (MEMBR) [State Finance] 2016-17`)) +
  geom_point(size = 2.25, color = "dodgerblue") +
  geom_smooth(method = "lm", color = "blue") +
  coord_cartesian(xlim = c(32000, 75000)) +
  labs(x = "GDP per Capita (by state)",
       y = "Dollars Spent per Student (by state)",
       title = "GDP and Education Spending",
       subtitle = "Among U.S. States and the District of Columbia",
       caption = "Sources: National Center for Education Statisitcs and the Bureau of Economic Analysis") 

graph_1
```

This first combined graph has shown some promising results with regard to my hypothesis. I guessed that as a state's educational funding (shown here through the amount of dollars spent per student), its GDP per capita would rise as well. This graph that combines public school funding information from National Center for Educational Statistics and income information from the Bureau of Economic Analysis, begins to show that there seems to be a correlation between the two factors.


```{r}
fit.student <- lm(`2017` ~ `Total Revenues (TR) per Pupil (MEMBR) [State Finance] 2016-17`, data = gdp_schools)
fit.student
```



2.927 Rev per pupil = if we increase GDP by `$`1 (check this value), then we can predict rev per pupil goes up $2.927.
9125 Intercept = if Rev Per Student is `$`0, then we can predict that GDP will be `$`9125












  